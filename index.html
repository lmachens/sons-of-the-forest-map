<!DOCTYPE html>
<html lang="en">
  <head>
    <!--PRELOAD_TEMPLATE-->
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Work+Sans&display=swap"
      rel="stylesheet"
    />

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/apple-touch-icon.png?v=2"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/favicon-32x32.png?v=2"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/favicon-16x16.png?v=2"
    />
    <link rel="mask-icon" href="/safari-pinned-tab.svg?v=2" color="#5bbad5" />
    <meta name="msapplication-TileColor" content="#9fb5d6" />
    <meta name="theme-color" content="#9fb5d6" />
    <style>
      @import url("/style.css");
      @import url("leaflet/dist/leaflet.css");
    </style>
  </head>
  <body class="web">
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none">
      <symbol id="window-control_discord" viewBox="0 0 30 30">
        <path
          d="M12.1364 14.3253C11.2364 14.3253 10.5818 15.0753 10.5818 15.9002C10.5818 16.8002 11.3182 17.4752 12.1364 17.4752C13.0364 17.4752 13.6909 16.7252 13.6909 15.9002C13.6909 15.0753 13.0364 14.3253 12.1364 14.3253ZM17.7818 14.3253C16.8818 14.3253 16.2273 15.0753 16.2273 15.9002C16.2273 16.8002 16.9636 17.4752 17.7818 17.4752C18.6818 17.4752 19.3364 16.7252 19.3364 15.9002C19.3364 15.0753 18.6 14.3253 17.7818 14.3253ZM19.2545 21C19.2545 21 18.6818 20.4 18.2727 19.8751C20.3182 19.3501 21.0545 18.1501 21.0545 18.1501C20.4 18.5251 19.8273 18.8251 19.2545 18.9751C18.5182 19.2751 17.7818 19.5001 17.0455 19.5751C15.5727 19.8001 14.1818 19.7251 13.0364 19.5751C12.1364 19.4251 11.4 19.2001 10.7455 18.9751C10.4182 18.8251 10.0091 18.6751 9.6 18.5251C9.51818 18.5251 9.51818 18.4501 9.43636 18.4501C9.43636 18.4501 9.35455 18.4501 9.35455 18.3751C9.10909 18.2251 8.94545 18.1501 8.94545 18.1501C8.94545 18.1501 9.68182 19.2751 11.6455 19.8001C11.2364 20.325 10.6636 21 10.6636 21C7.30909 20.925 6 18.8251 6 18.8251C6 14.2503 8.20909 10.5005 8.20909 10.5005C10.4182 8.92557 12.5455 9.00057 12.5455 9.00057L12.7091 9.15056C9.92727 9.90052 8.61818 11.0255 8.61818 11.0255C8.61818 11.0255 8.94545 10.8755 9.51818 10.5755C11.2364 9.97552 12.5455 9.75053 13.0364 9.75053C13.1182 9.75053 13.2 9.75053 13.2818 9.75053C14.1818 9.60054 15.2455 9.60054 16.3909 9.75053C17.8636 9.90052 19.4182 10.2755 21.0545 11.1005C21.0545 11.1005 19.8273 10.0505 17.2091 9.30055L17.4545 9.00057C17.4545 9.00057 19.5818 8.92557 21.7909 10.5005C21.7909 10.5005 24 14.2503 24 18.8251C24 18.8251 22.6909 20.925 19.2545 21Z"
          fill="currentcolor"
        />
      </symbol>
      <symbol id="icon-menu" viewBox="0 0 24 24">
        <path
          d="M19 16a1 1 0 01.117 1.993L19 18H5a1 1 0 01-.117-1.993L5 16h14zm0-5a1 1 0 01.117 1.993L19 13H5a1 1 0 01-.117-1.993L5 11h14zm0-5a1 1 0 01.117 1.993L19 8H5a1 1 0 01-.117-1.993L5 6h14z"
          fill="currentcolor"
          fill-rule="evenodd"
        ></path>
      </symbol>
      <symbol
        id="icon-close"
        viewBox="0 0 24 24"
        stroke-width="2"
        stroke="currentColor"
        fill="none"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M18 6l-12 12"></path>
        <path d="M6 6l12 12"></path>
      </symbol>
      <symbol
        id="icon-search"
        viewBox="0 0 24 24"
        stroke-width="2"
        stroke="currentColor"
        fill="none"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <circle cx="10" cy="10" r="7"></circle>
        <line x1="21" y1="21" x2="15" y2="15"></line>
      </symbol>
    </svg>
    <div class="layout">
      <h1 class="hidden">Sons of the Forest Map</h1>
      <main class="main">
        <div class="map"></div>
      </main>
      <button class="menu" aria-controls="menu" aria-label="Open Menu">
        <svg width="1.5em" height="1.5em">
          <use xlink:href="#icon-menu" />
        </svg>
      </button>
      <aside class="aside" role="menu" id="menu">
        <div class="aside-headline">
          <label class="search">
            <svg>
              <use xlink:href="#icon-search" />
            </svg>
            <input type="text" placeholder="Search" />
            <div class="search-results"></div>
          </label>
          <div class="locale-selector"></div>
        </div>
        <button class="menu" aria-controls="menu" aria-label="Close Menu">
          <svg width="1.5em" height="1.5em">
            <use xlink:href="#icon-close" />
          </svg>
        </button>
        <div class="stack">
          <a
            href="https://www.th.gl/support-me"
            target="_blank"
            class="ad-note"
            data-i18n
            >Unlock our hidden treasury with your generous Patronage</a
          >
          <div id="sotf-video" class="nitro-video">
            <div class="fallback" data-i18n>
              Please deactivate your adblocker to support us.
            </div>
          </div>
          <section class="paper">
            <h2 data-i18n>Nodes</h2>
            <div class="types" id="filters">&nbsp;</div>
            <h3>
              <span data-i18n>Custom Nodes</span> (<span
                id="custom_nodes_count"
              ></span
              >)
            </h3>
            <div class="group">
              <button id="add_custom_node" data-i18n>Add Node</button>
              <button id="backup_custom_node" data-i18n>Backup</button>
              <button id="restore_custom_node" data-i18n>Restore</button>
            </div>
            <h3>
              <span data-i18n>Discovered Nodes</span> (<span
                id="discovered_nodes_count"
              ></span
              >)
            </h3>
            <div class="group">
              <button id="reset_discovered_nodes" data-i18n>Reset</button>
            </div>
          </section>
          <section class="paper">
            <h2 data-i18n>Game sessions</h2>
            <p class="description" data-i18n>
              Game sessions are auto-saved, allowing you to reload and track
              your paths. Up to 5 recent sessions are saved.
            </p>
            <div id="game_sessions"></div>
          </section>
          <section class="paper">
            <h2 data-i18n>Realtime Sync</h2>
            <p class="description">
              <span data-i18n>Install the</span>
              <a
                href="https://www.overwolf.com/app/Leon_Machens-Sons_Of_The_Forest_Map"
                target="_blank"
                data-i18n
                >Overwolf app</a
              >
              <span data-i18n
                >to sync your position. For multiplayer first connect to peer
                sever, then link the app. The first ID is yours, to add friends
                simply paste their ID's to the app.</span
              >
            </p>
            <button id="peer_connect" data-i18n>Connect to peer server</button>
            <p class="status issue" id="my_peer_status">
              <span class="indicator"></span>
              <span data-i18n>Connected to peer server</span>
              <span data-i18n>Not connected to peer server</span>
            </p>

            <div class="group">
              <label>
                <span class="w-sm" data-i18n>Your ID</span>
                <input type="text" id="peer_id" disabled />
              </label>
              <button id="copy_peer_id" data-i18n>Copy</button>
            </div>
            <p class="warning" id="peer_error"></p>
            <form class="group" id="connection_form">
              <label>
                <span class="w-sm" data-i18n>App ID</span>
                <input type="text" name="other_peer_id" required />
              </label>
              <input type="submit" value="Add player" />
            </form>
            <div id="connections"></div>
            <p class="location-status" data-i18n>Location is not detected</p>
            <button class="show-on-map" data-i18n>Show on map</button>
            <label class="group">
              <input
                type="checkbox"
                id="follow_location"
                class="toggle-switch"
              />
              <label for="follow_location"></label>
              <span data-i18n>Follow Location</span>
            </label>
            <p class="description" data-i18n>
              Player marker auto-centers whenever it gets updated.
            </p>
            <div class="game-overlay hidden">
              <span class="warning" data-i18n>Game is disabled!</span>
              <p>
                <span data-i18n>Open the</span>
                <a href="overwolf://store/game-settings/game-id/22638" data-i18n
                  >Overwolf settings</a
                >
                <span data-i18n>and activate Sons of the Forest.</span>
              </p>
            </div>
          </section>
          <section class="paper">
            <h2 data-i18n>Settings</h2>
            <label class="group">
              <input type="checkbox" id="images_toggle" class="toggle-switch" />
              <label for="images_toggle"></label>
              <span data-i18n>Show Images</span>
            </label>
            <p class="description" data-i18n>
              Displays items images either on or under ground.
            </p>
            <label class="group">
              <input
                type="checkbox"
                id="description_toggle"
                class="toggle-switch"
              />
              <label for="description_toggle"></label>
              <span data-i18n>Show Description</span>
            </label>
            <p class="description" data-i18n>
              Displays items description for more information.
            </p>
            <label class="group">
              <input type="checkbox" id="rq_toggle" class="toggle-switch" />
              <label for="rq_toggle"></label>
              <span data-i18n>Show Requirements</span>
            </label>
            <p class="description" data-i18n>
              Displays list of required items in order to obtain them.
            </p>
            <label class="group">
              <input type="checkbox" id="tp_toggle" class="toggle-switch" />
              <label for="tp_toggle"></label>
              <span data-i18n>Show Teleporting</span>
            </label>
            <p class="description" data-i18n>
              Displays command for teleporting to the nodes.
            </p>
            <label class="group">
              <input type="checkbox" id="tg_toggle" class="toggle-switch" />
              <label for="tg_toggle"></label>
              <span data-i18n>Show Togglego</span>
            </label>
            <p class="description" data-i18n>
              Displays command for hiding or showing water bodies.
            </p>
            <label class="group">
              <input type="checkbox" id="itemid_toggle" class="toggle-switch" />
              <label for="itemid_toggle"></label>
              <span data-i18n>Show Item ID</span>
            </label>
            <p class="description" data-i18n>
              Displays command for spawning items.
            </p>
            <label class="group">
              <input
                type="checkbox"
                id="compass_toggle"
                class="toggle-switch"
              />
              <label for="compass_toggle"></label>
              <span data-i18n>Show Compass</span>
            </label>
            <p class="description" data-i18n>
              Displays a compass on top of the map.
            </p>
            <label class="group">
              <input type="checkbox" id="trace_line" class="toggle-switch" />
              <label for="trace_line"></label>
              <span data-i18n>Show Trace Line</span>
            </label>
            <p class="description" data-i18n>
              Displays small dots behind you, saving your paths.
            </p>
            <label class="group">
              <input
                type="checkbox"
                id="direction_line"
                class="toggle-switch"
              />
              <label for="direction_line"></label>
              <span data-i18n>Show Direction Line</span>
            </label>
            <p class="description" data-i18n>
              Displays a line in walking direction.
            </p>
            <label class="group">
              <input
                type="checkbox"
                id="show_icon_background"
                class="toggle-switch"
              />
              <label for="show_icon_background"></label>
              <span data-i18n>Show Icon Background</span>
            </label>
            <p class="description" data-i18n>
              Enhances icon visibility with a background.
            </p>
            <label class="group">
              <input type="checkbox" id="zones_grid" class="toggle-switch" />
              <label for="zones_grid"></label>
              <span data-i18n>Show Zones</span>
            </label>
            <p class="description">
              <span data-i18n>
                Shows a map grid for teleporting to in-game zones. Use</span
              >
              <code>cheatstick</code>
              <span data-i18n>in game, press</span>
              <code>F1</code> <span data-i18n>and type desired zone name.</span>
            </p>
            <span data-i18n>Change Icons Size</span>
            <p class="description" data-i18n>
              It is not advisable to change the size when all icons are active.
            </p>

            <div class="slidecontainer">
              <input
                type="range"
                min="10"
                max="26"
                value="18"
                class="slider"
                id="iconSizeSlider"
              />
            </div>
          </section>
          <section class="links">
            <p>
              Take your gaming to new heights with accurate tracking, richly
              detailed waypoints, and a sleek overlay for real-time progress.<br />
              Ensure your privacy by reviewing our:
              <a href="https://sotf.th.gl/privacy-policy.html" target="_blank"
                >Privacy Policy</a
              >
              <br />
              Find more gaming enchancements at:
            </p>
            <a href="https://www.th.gl/" target="_blank"
              >The Hidden Gaming Lair</a
            >
            <a href="https://palia.th.gl/" target="_blank">Palia Map</a>
            <a href="https://diablo4.th.gl/" target="_blank">Diablo 4 Map</a>
            <a href="https://aeternum-map.th.gl/" target="_blank"
              >New Wolrd Interactice Map</a
            >
            <a href="https://www.nwmap.info/" target="_blank"
              >New World Territory Map</a
            >
            <a href="https://www.hogwarts.th.gl/" target="_blank"
              >Hogwarts Legacy</a
            >
            <a href="https://www.arkesia.th.gl/" target="_blank">Lost Ark</a>
            <a href="https://lol.th.gl/" target="_blank">League of Legend</a>
            <a href="https://www.soc.th.gl/" target="_blank"
              >Songs of Conquest</a
            >
            <a href="https://github.com/lmachens/skeleton" target="_blank"
              >Customizable Overlays</a
            >
          </section>
        </div>
      </aside>
    </div>

    <script type="module" src="/src/web.ts"></script>
  </body>
</html>
